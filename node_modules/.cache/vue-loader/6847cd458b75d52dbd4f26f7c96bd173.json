{"remainingRequest":"/Users/user/Documents/Nauka/Studia/Magisterskie/semestr 4/Architektury i technologie systemow internetowych/KrzysztofSmusz_Projekt/krzysztof-smusz-aitsi-projekt/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/user/Documents/Nauka/Studia/Magisterskie/semestr 4/Architektury i technologie systemow internetowych/KrzysztofSmusz_Projekt/krzysztof-smusz-aitsi-projekt/src/components/Book.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/user/Documents/Nauka/Studia/Magisterskie/semestr 4/Architektury i technologie systemow internetowych/KrzysztofSmusz_Projekt/krzysztof-smusz-aitsi-projekt/src/components/Book.vue","mtime":1650297162447},{"path":"/Users/user/Documents/Nauka/Studia/Magisterskie/semestr 4/Architektury i technologie systemow internetowych/KrzysztofSmusz_Projekt/krzysztof-smusz-aitsi-projekt/node_modules/css-loader/dist/cjs.js","mtime":1650299316715},{"path":"/Users/user/Documents/Nauka/Studia/Magisterskie/semestr 4/Architektury i technologie systemow internetowych/KrzysztofSmusz_Projekt/krzysztof-smusz-aitsi-projekt/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1650299317622},{"path":"/Users/user/Documents/Nauka/Studia/Magisterskie/semestr 4/Architektury i technologie systemow internetowych/KrzysztofSmusz_Projekt/krzysztof-smusz-aitsi-projekt/node_modules/postcss-loader/src/index.js","mtime":1650299317015},{"path":"/Users/user/Documents/Nauka/Studia/Magisterskie/semestr 4/Architektury i technologie systemow internetowych/KrzysztofSmusz_Projekt/krzysztof-smusz-aitsi-projekt/node_modules/cache-loader/dist/cjs.js","mtime":1650299316114},{"path":"/Users/user/Documents/Nauka/Studia/Magisterskie/semestr 4/Architektury i technologie systemow internetowych/KrzysztofSmusz_Projekt/krzysztof-smusz-aitsi-projekt/node_modules/vue-loader/lib/index.js","mtime":1650299317299}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmJvb2tzLWxpc3R7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHRvcDogODBweDsKICBsZWZ0OiAwOwogIHJpZ2h0OiAwOwp9Cg=="},{"version":3,"sources":["Book.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6IA;AACA;AACA;AACA;AACA;AACA","file":"Book.vue","sourceRoot":"src/components","sourcesContent":["<template>\n<div>\n  <div class=\"grid\">\n    <div class=\"books-list\">\n      <div v-for=\"book in filteredBooks\" v-bind:key=\"book\">\n        <div class=\"row g-0 p-2 justify-content-center\">\n          <div class=\"col-lg-3 justify-content-center\">\n            <div class=\"card\" @click=\"toggleBookModal(book)\">\n                <img class=\"card-img-top mx-auto\" :src=\"book.image\"  :alt=\"book.name\">\n              <div class=\"card-body\" style=\"text-align: left;\">\n                <div class=\"row\">\n                    Tytuł: {{ book.name }}<br>\n                    Autor: {{ book.author }}<br>\n                    Gatunek: {{ book.genre }}<br>\n                    Ocena: {{ book.rating }}<br>\n                    Cena: {{ book.price }}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>   \n    </div>         \n  </div>\n  <div v-if=\"showBookModal\">\n    <BookModal :book=\"clickedBook\" @close=\"toggleBookModal\" @edit=\"editBook\" @delete=\"deleteBook\"/>\n  </div>\n  <div v-if=\"showBookEditModal\">\n    <BookEditModal :book=\"clickedBook\" @closeEdit=\"closeEditBook\" @edited=\"updateBook\"/>\n  </div>\n</div>\n</template>\n\n<script>\nimport BookModal from './BookModal.vue'\nimport BookEditModal from './BookEditModal.vue'\nexport default {\n  name: \"HelloWorld\",\n  components: { BookModal, BookEditModal },\n  props: ['filter', 'sort'],\n  computed: {\n    filteredBooks: function () {\n      let modified_books = this.books;\n      if (this.filter.filter_by != null && parseFloat(this.filter.upper) >= 0 && parseFloat(this.filter.lower) >= 0) {\n        modified_books = modified_books.filter(this.checkFilter);\n      }\n      if (this.sort.sort_by !== null && this.sort.type !== null){\n        modified_books.sort(this.sortFunction(this.sort));\n      }\n      return modified_books\n    }\n  },\n  data: function () {\n    return {\n      books: [],\n      showBookModal: false,\n      showBookEditModal: false,\n      clickedBook: {name: \"\", author: \"\", image: \"\", price: \"\", rating: \"\", genre: \"\", description: \"\"},\n    };\n  },\n  methods: {\n    sortFunction: function(sort) {\n      return function(a, b) {\n          var valA;\n          var valB;\n          if ([\"name\", \"author\", \"genre\"].indexOf(sort.sort_by) > -1) {\n            valA = a[sort.sort_by].toUpperCase(); // ignore upper and lowercase\n            valB = b[sort.sort_by].toUpperCase();\n          } else if ([\"rating\", \"price\",].indexOf(sort.sort_by) > -1) {\n            valA = parseFloat(a[sort.sort_by]);\n            valB = parseFloat(b[sort.sort_by]);\n          } else {\n            return 0;\n          }\n          let multiplier = 1;\n          if (sort.type == \"asc\") {\n            multiplier *= -1;\n          }\n          if (valA < valB) {\n            return 1 * multiplier;\n          }\n          if (valA > valB) {\n            return -1 * multiplier;\n          }\n\n          // values must be equal\n          return 0;\n        }\n    },\n    checkFilter: function(book) {\n      return parseFloat(book[this.filter.filter_by]) >= parseFloat(this.filter.lower) && parseFloat(book[this.filter.filter_by]) <= parseFloat(this.filter.upper);\n    },\n    addBook: function (book) {\n        this.books.push({name: book.name, author: book.author, image: book.image, price: book.price, rating: book.rating, genre: book.genre, description: book.description})\n        localStorage.setItem('books', JSON.stringify(this.books));\n    },\n    toggleBookModal: function (book = {name: \"\", author: \"\", image: \"\", price: \"\", rating: \"\", genre: \"\", description: \"\"}) {\n      this.clickedBook = book;\n      this.showBookModal = !this.showBookModal;\n    },\n    editBook: function () {\n      this.showBookModal = !this.showBookModal;\n      this.showBookEditModal = !this.showBookEditModal;\n    },\n    deleteBook: function () {\n      this.books = this.books.filter(x => x !== this.clickedBook);\n      localStorage.setItem('books', JSON.stringify(this.books));\n      this.clickedBook = {name: \"\", author: \"\", image: \"\", price: \"\", rating: \"\", genre: \"\", description: \"\"};\n      this.showBookModal = !this.showBookModal;\n    },\n    closeEditBook: function () {\n      this.clickedBook = {name: \"\", author: \"\", image: \"\", price: \"\", rating: \"\", genre: \"\", description: \"\"};\n      this.showBookEditModal = !this.showBookEditModal;\n    },\n    updateBook: function (updatedBook) {\n      this.clickedBook.name = updatedBook.name;\n      this.clickedBook.author = updatedBook.author;\n      this.clickedBook.image = updatedBook.image;\n      this.clickedBook.price = updatedBook.price;\n      this.clickedBook.rating = updatedBook.rating;\n      this.clickedBook.genre = updatedBook.genre;\n      this.clickedBook.description = updatedBook.description;\n      this.editBook()\n    },\n  },\n  created: function() {\n      this.books = [\n          {name: \"Rok 1984\", author: \"George Orwell\", image: \"https://s.lubimyczytac.pl/upload/books/4978000/4978484/919129-352x500.jpg\", price: \"10.50\", rating: \"8.5\", genre: \"Powieść\", description: \"Najważniejszą i chyba najsłynniejszą książką Orwella jest 1984. Ta ponura antyutopia rozgrywa się w rządzonym przez totalitarny reżim Wielkiego Brata Londynie, a cały świat podzielony jest na trzy walczące ze sobą bloki państw-supermocarstw. Choć może to wcale nieprawda. Bowiem w świecie 1984 słowa straciły już swoje znaczenie, a dwa plus dwa nie musi już równać się cztery. Wszak główny bohater powieści Winston Smith pracuje w Ministerstwie Prawdy, które zajmuje się manipulacją, propagandą i dezinformacją. A działa jeszcze Ministerstwo Pokoju, które zajmuje się Wojną. Ministerstwo Miłości prześladowaniem obywateli, utrzymywaniem przy pomocy siły porządku, egzekucjami i torturami. A Ministerstwo Obfitości – rozdawaniem głodowych racji dla motłochu.\"},\n          {name: \"Pan raczy zartować, panie Feynman!\", author: \"Richard Feynmann\", image: \"https://s.lubimyczytac.pl/upload/books/4860000/4860910/686871-352x500.jpg\", price: \"30.99\", rating: \"7.9\", genre: \"Autobiografia\", description: \"Richard P. Feynman - laureat Nagrody Nobla i jeden z najgenialniejszych fizyków w dziejach w brawurowy sposób opowiada o swoim niezwykłym życiu. Nie tylko przedstawia kulisy prac nad budową bomby atomowej i tajemnicami materii, ale też ujawnia się jako spec od otwierania zamków szyfrowych i mistrz gry na bongosach. Feynman opisuje spotkanie z Einsteinem, walki z rządową biurokracją, codzienne życie fizyków w ośrodku badawczym w Los Alamos i ich flirty z tancerkami w Las Vegas.\"},\n          {name: \"Król szczurów\", author: \"James Clavell\", image: \"https://s.lubimyczytac.pl/upload/books/178000/178456/143711-352x500.jpg\", price: \"20.50\", rating: \"8.1\", genre: \"Powieść\", description: \"W 1941 roku, 17-letni James Clavell, został wysłany na wojnę do Malezji. Przez wiele miesięcy ukrywał się w tropikalnej dżungli, żył w malezyjskiej wiosce. Schwytany jednak przez Japończyków trafił do obozu jenieckiego Changi w pobliżu Singapuru. Ze 150 tysięcy więźniów, którzy tu trafili, przeżyło zaledwie 10 tysięcy. Pozostałych wykończyły głód i tropikalne choroby. Clavell przeżył. I właśnie to obozowe doświadczenie stało się kanwą jego debiutanckiej powieści - Króla szczurów. To książka o zachowaniu człowieka w sytuacji ekstremalnej. Ale nawet w piekle można być człowiekiem wolnym i zachować resztki godności - jak dwuznaczny moralnie amerykański kapral, nazywany przez współwięźniów Królem, albo jak kapitan Marlowe, literackie alter ego pisarza, zaznaczmy jednego z najpopularniejszych amerykańskich pisarzy, zwanego MR.\"}\n          ];\n      localStorage.setItem('books', JSON.stringify(this.books));\n  },\n  mounted: function () {\n    const existingbooks = localStorage.getItem('books');\n    this.books = JSON.parse(existingbooks) || [];\n  }\n};\n</script>\n\n<style>\n.books-list{\n  position: absolute;\n  top: 80px;\n  left: 0;\n  right: 0;\n}\n</style>\n"]}]}